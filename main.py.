
import streamlit as st
import pandas as pd
import plotly.graph_objects as go

# 1. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙÙ†ÙŠØ©
st.set_page_config(page_title="VesselCore Technical", layout="wide")

# 2. ØªØ¹Ø±ÙŠÙ Ø£Ø³Ø·ÙˆÙ„ NJ TRUST MARINE
fleet_data = {
    "NJ MOON": {"engine": "MAN B&W", "load": 85, "sfoc": 165},
    "NJ MARS": {"engine": "MAN B&W", "load": 82, "sfoc": 168},
    "NJ AIO": {"engine": "Mitsubishi UEC", "load": 80, "sfoc": 170},
    "YARA J": {"engine": "MAN B&W", "load": 84, "sfoc": 166}
}

# 3. Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Sidebar)
with st.sidebar:
    st.header("ğŸš¢ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø·ÙˆÙ„")
    st.write("**Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠ:** Ù…Ø±ÙˆØ§Ù† ÙƒØ±ÙˆÙ…")
    st.divider()
    selected_ship = st.selectbox("Ø§Ø®ØªØ± Ø§Ù„Ø³ÙÙŠÙ†Ø© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©:", list(fleet_data.keys()), key="vessel_select_final")
    st.info(f"Ø§Ù„Ù…Ø­Ø±Ùƒ: {fleet_data[selected_ship]['engine']}")

# 4. Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
st.title(f"Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙÙ†ÙŠ: {selected_ship}")

# Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª (Metrics)
col1, col2 = st.columns(2)
with col1:
    st.metric("Ø­Ù…Ù„ Ø§Ù„Ù…Ø­Ø±Ùƒ (Load %)", f"{fleet_data[selected_ship]['load']}%")
with col2:
    st.metric("Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯ (SFOC)", f"{fleet_data[selected_ship]['sfoc']} g/kWh")

st.divider()

# 5. Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„Ø£Ø¯Ø§Ø¡
st.subheader("Ù…Ù†Ø­Ù†Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø­Ø±Ùƒ (Engine Performance)")
fig = go.Figure()
fig.add_trace(go.Scatter(x=[25, 50, 75, 85, 100], y=[175, 170, 168, 165, 169], name="Actual SFOC", line=dict(color='red')))
fig.update_layout(xaxis_title="Engine Load (%)", yaxis_title="SFOC")
st.plotly_chart(fig, use_container_width=True)

st.success("Ù†Ø¸Ø§Ù… VesselCore ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù† Ø¨ÙƒØ§Ù…Ù„ ÙƒÙØ§Ø¡ØªÙ‡.")
